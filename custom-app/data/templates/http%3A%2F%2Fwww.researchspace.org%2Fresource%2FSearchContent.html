<style>
  .rs-search-page .form-search-area .form-group {
    margin: 0;
  }
</style>

<bs-tabs id='semantic-search' mount-on-enter=true default-active-key='[[urlParam "activeTab"]]'>

  <bs-tab event-key='project' title='Project' class="basicSearch">
    <semantic-search config='[[searchConfigForFieldsFromQuery "SELECT DISTINCT ?field WHERE { ?field a <http://www.researchspace.org/resource/system/fields/Field> . ?field  <http://www.researchspace.org/resource/system/fields/category> <http://www.researchspace.org/category/tna/project_search> .  }"]]'>
       <semantic-search-query-keyword 
          domain='<http://www.cidoc-crm.org/cidoc-crm/E7_Activity>'
          query='SELECT ?subject ?score WHERE { 
                    ?subject crm:P2_has_type <http://www.researchspace.org/resource/vocab/conservation_entities/project> .
                    ?subject crm:P1_is_identified_by/crm:P190_has_symbolic_content ?label .
                        
                    SERVICE <http://www.bigdata.com/rdf/search#search> {
                      ?label bds:search ?__token__ ;
                                bds:minRelevance "0.3" ;
                                bds:relevance ?score ;
                                bds:matchAllTerms "true"  .
                    }
                  }  order by DESC(?score)'
          default-query='SELECT ?subject WHERE { 
                          ?subject crm:P2_has_type <http://www.researchspace.org/resource/vocab/conservation_entities/project> .
                        }'
          debounce=500
          min-search-term-length="3"
          placeholder='Search by project title (minimum 3 characters)'
        ></semantic-search-query-keyword>
        [[> rsp:SearchResults project=true]]
      </semantic-search>
  </bs-tab>

  <bs-tab event-key='collection_item' title='Painting' class="basicSearch">
    <semantic-search config='[[searchConfigForFieldsFromQuery "SELECT DISTINCT ?field WHERE { ?field a <http://www.researchspace.org/resource/system/fields/Field> . ?field  <http://www.researchspace.org/resource/system/fields/category> <http://www.researchspace.org/category/tna/collection_item_search> .  }"]]'>
       <semantic-search-query-keyword 
          domain='<http://www.cidoc-crm.org/cidoc-crm/E22_Man-Made_Object>'
          query='SELECT ?subject ?score WHERE { 
                    ?subject a crm:E22_Man-Made_Object .
                    # description part of the query edited out crm:P67i_is_referred_to_by/crm:P190_has_symbolic_content |
                    ?subject crm:P1_is_identified_by/rdfs:label | crm:P1_is_identified_by/crm:P190_has_symbolic_content | crm:P102_has_title/crm:P190_has_symbolic_content ?label . 

                    SERVICE <http://www.bigdata.com/rdf/search#search> {
                        ?itemLabel bds:search ?__token__ ;
                                bds:minRelevance "0.3" ;
                                bds:relevance ?score ;
                                bds:matchAllTerms "true"  .
                    }
                  } order by DESC(?score) '
          default-query='SELECT ?subject WHERE { 
                          ?subject a <http://www.cidoc-crm.org/cidoc-crm/E22_Man-Made_Object> .
                         } '
          min-search-term-length="3"
          tokenize-lucene-query="false"
          debounce=500
          placeholder='Search object by catalogue reference number or identifier (minimum 3 characters)'
        ></semantic-search-query-keyword>
        [[> rsp:SearchResults collection_item=true]]
      </semantic-search>
  </bs-tab>

  <bs-tab event-key='exhibition' title='Exhibition' class="basicSearch">
    <semantic-search config='[[searchConfigForFieldsFromQuery "SELECT DISTINCT ?field WHERE { ?field a <http://www.researchspace.org/resource/system/fields/Field> . ?field  <http://www.researchspace.org/resource/system/fields/category> <http://www.researchspace.org/category/tna/exhibition_search> .  }"]]'>
       <semantic-search-query-keyword 
          domain='<http://www.cidoc-crm.org/cidoc-crm/E7_Activity>'
          query='SELECT ?subject WHERE { 
                    ?subject crm:P2_has_type <http://www.researchspace.org/resource/vocab/conservation_entities/exhibition> .
                    ?subject crm:P1_is_identified_by/crm:P190_has_symbolic_content ?label .
                        
                    SERVICE <http://www.bigdata.com/rdf/search#search> {
                      ?label bds:search ?__token__ ;
                                bds:minRelevance "0.3" ;
                                bds:matchAllTerms "true"  .
                    }
                  } order by ?label'
          default-query='SELECT ?subject WHERE { 
                          ?subject crm:P2_has_type <http://www.researchspace.org/resource/vocab/conservation_entities/exhibition> .
                        }'
          debounce=500
          min-search-term-length="3"
          tokenize-lucene-query="false"
          placeholder='Search by exhibition title (minimum 3 characters)'
        ></semantic-search-query-keyword>
        [[> rsp:SearchResults exhibition=true]]
    </semantic-search>
  </bs-tab>

</bs-tabs>